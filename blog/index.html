<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>blog in ember</title>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        socket = io.connect('/');
        socket.on('reload', function() { location.reload() });
    </script>

  </head>
  <body>

    <script type="text/x-handlebars" data-template-name="application">
      {{ outlet }}
    </script>

    <script type="text/x-handlebars" data-template-name="posts">
      {{ outlet }}
    </script>

    <script type="text/x-handlebars" data-template-name="posts/index">
      Recent posts: <br />
      {{render 'listPosts' controller}}
    </script>

    <script type="text/x-handlebars" data-template-name="tags">
      {{ outlet }}
    </script>

    <script type="text/x-handlebars" data-template-name="tags/index">
      list of tags:
      {{#each tag in controller}}
      {{tag.slug}} <br />
      {{/each}}
    </script>

    <script type="text/x-handlebars" data-template-name="tag">
      list of posts: {{#linkTo 'posts'}} here {{/linkTo}}<br />
      posts for tag here <br />
      {{render 'listPosts' content}}
    </script>

    <script type="text/x-handlebars" data-template-name="tag">
      list of posts: {{#linkTo 'posts'}} here {{/linkTo}}<br />
      posts for category here <br />
      {{render 'listPosts' postsForTag}}
    </script>

    <script type="text/x-handlebars" data-template-name="listPosts">
      <ul>
      {{#each post in content}}
      <li>
      {{#linkTo 'post' post}}
      {{post.slug}}
      {{/linkTo}}
      </li> 
      {{/each}}
      </ul>
    </script>

    <script type="text/x-handlebars" data-template-name="post">
      {{#linkTo 'posts'}} Back {{/linkTo}} <br />
      One fine post here <br />
      {{ slug }} <br />
      {{{ excerpt }}}
      <hr />
      Categories:
      {{#each category in categories}}
      {{#linkTo 'category' category}} {{ category.slug }} {{/linkTo}}
      {{/each}}
      <br />  
      Tags:
      {{#each tag in tags}}
      {{#linkTo 'tag' tag}}{{ tag.slug }}{{/linkTo}} &nbsp;
      {{/each}}
    </script>


    <script src="vendor/lodash.js" type="text/javascript" charset="utf-8"></script>
    <script src="vendor/jquery-1.9.1.js" type="text/javascript" charset="utf-8"></script>
    <script src="vendor/handlebars-1.0.0-rc.3.js" type="text/javascript" charset="utf-8"></script>
    <script src="vendor/ember-1.0.0-rc.3.js" type="text/javascript" charset="utf-8"></script>
    <script src="vendor/ember-data.js" type="text/javascript" charset="utf-8"></script>
    <script src="app.js" type="text/javascript" charset="utf-8"></script>
  </body>

</html>

